<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Carlaware Localization
    =================
    1) Map
        Launch Map
    2) Localization
-->
<launch>
    <!-- Essential parameters -->
    <arg name="map_path" default="$(env CWR_MAP_PATH)" description="point cloud and lanelet2 map directory path"/>
    <arg name="vehicle_model" default="$(env CWR_VEHICLE_MODEL)" description="vehicle model name"/>
    <arg name="sensor_model" default="$(env CWR_SENSOR_MODEL)" description="sensor model name"/>
    <arg name="data_path" default="$(env CWR_DATA_PATH)" description="packages data and artifacts directory path" />
    <arg name="pointcloud_container_name" default="pointcloud_container"/>

    <!-- Optional parameters -->
    <!-- Modules to be launched -->
    <arg name="launch_map" default="true" description="launch sensing"/>
    <arg name="launch_localization" default="true" description="launch localization"/>
    <!-- Map -->
    <arg name="lanelet2_map_file" default="lanelet2_map.osm" description="lanelet2 map file name"/>
    <arg name="pointcloud_map_file" default="pointcloud_map.pcd" description="pointcloud map file name"/>
    <!-- Auto mode setting-->
    <arg name="enable_all_modules_auto_mode" default="false" description="enable all module's auto mode"/>
    <arg name="is_simulation" default="$(env CWR_SIMULATION)" description="Autoware's behavior will change depending on whether this is a simulation or not."/>

    <!-- Map -->
    <group if="$(var launch_map)">
        <include file="$(find-pkg-share autoware_launch)/launch/components/tier4_map_component.launch.xml"/>
    </group>

    <!-- Localization -->
    <group if="$(var launch_localization)">
        <include file="$(find-pkg-share autoware_launch)/launch/components/tier4_localization_component.launch.xml"/>
    </group>

</launch>
